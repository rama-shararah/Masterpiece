@model IEnumerable<MasterPieceMVC.Models.Request>

@{
    ViewBag.Title = "Request";
    Layout = "~/Views/Shared/MyLayout.cshtml";
}
<style>
    @@media (min-width: 1200px) {
        .col-xl-7 {
            flex: 0 0 auto;
            width: 100%;
           
        }
    }

    .con {
        display: flex;
    }

    .me-3 {
        margin-left: 1rem;
    }

    .p-4 {
        padding: 1rem !important;
    }

    h3 {
        text-align: right;
    }

    body {
        background-color: #F4F4F4;
    }
    @@media only screen and (min-device-width: 0px) and (max-device-width: 480px) {
        .line {
            white-space: nowrap;
            overflow: auto;
            text-overflow: clip;
            overflow-y: scroll;
           
        }

        .pad {
            padding: 10px !important;
        }
    }
</style>


<br />
<br />
<h3 class="container">الطلبات الواردة</h3>
<section>
    <div class="container my-5 py-5 text-dark">
        <div class="row d-flex justify-content-center">

            <div class="col-md-11 col-lg-9 col-xl-7">
                @{ if (Model == null || !Model.Any())
                    {
                        <p style="text-align:center">لا يوجد طلبات واردة</p>
                    }
else { 

                    foreach (var item in Model)
                    {


<div class="d-flex flex-start mb-4">
                            <div class="card w-100 line">
                                <div class="card-body p-4">
                                    <div class="con">
                                        <div class="col-md-1 pad" style="text-align: right;">
                                            @if (item.Accept == null)
                                            {
                                                <a href="/Requests/EditSubRequest/@item.Request_Id">
                                                    <h5>قبول\رفض</h5>
                                                </a>
                                            }
                                            @if (item.Accept == true)
                                            {
                                                <h5 style="color:green">مقبول</h5>
                                            }
                                            @if (item.Accept ==false)
                                            {
                                                <h5 style="color:red">مرفوض</h5>
                                            }

                                        </div>
                                        <div class="col-md-2 pad" style="text-align: right;">
                                            <a href="/Requests/Map/@item.Request_Id">
                                                <h5>الموقع</h5>
                                            </a>

                                        </div>
                                        <div class="col-md-3 pad" style="text-align: right;">
                                            <h5>رقم الهاتف:@item.AspNetUser.PhoneNumber</h5>

                                        </div>
                                        <div class="col-md-3 pad">
                                            <h5>@item.AspNetUser.Location</h5>
                                        </div>
                                        <div class="col-md-3 pad">
                                            <h5>
                                                @item.Request_Date
                                            @if (item.Accept == null)
                                            {
                                                <i style="font-size: 10px; color: red; margin-left: 5%;" class="fa-solid fa-circle"></i>
                                            }
                                        </h5>

                                    </div>

                                    </div>
                                </div>
                            </div>

                        </div>

                        }
                    }


                }


            </div>
        </div>

    </div>

</section>

